#ifndef INGAME_H
#define INGAME_H
#define MAXSPOT 2

#include "../entities/player.hpp"
#include "../entities/ghost.hpp"
#include "cmath"
#include "state.hpp"
#include "../../main.hpp"
#include "raylib.h"

/*InGame extends State*/
class InGame : public State
{
private:
    Player player1;  /*Player Object*/
    Player player2; 
    Ghost ghost;
    Camera2D camera;    /*Camera Object*/
    float visionRadius;
    bool nightVision;    /*cheat*/
    bool displayCoordinates;    /*cheat*/
    bool displayHitBoxes;   /*cheat*/
    Config* map;
public:
    InGame(Config *config); /*Constructor*/
    ~InGame();  /*Destructor*/
    inline void update() override; /*Overridden method*/
    inline void render() override; /*Overridden method*/
    int signal() override; /*Overridden method*/
    Player getPlayer(); /*Accessor*/

    int monitor;
    unsigned int spotLoc[MAXSPOT];
    Vector2 spotPos[MAXSPOT];
    Vector2 spotVel[MAXSPOT];

    // use default vert shader
    Shader spotShader = LoadShader(0, "res/shaders/spotlight.fs");
    std::vector<std::vector<std::vector<int>>> arr = {
{
{873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873},
{873,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,873},
{873,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,873},
{873,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,873},
{873,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,873},
{873,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,873},
{873,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,873},
{873,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,873},
{873,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,873},
{873,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,873},
{873,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,873},
{873,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,873},
{873,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,873},
{873,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,873},
{873,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,873},
{873,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,873},
{873,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,873},
{873,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,873},
{873,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,873},
{873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873,873}
  },
 {
{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
{0,0,0,0,535,0,0,0,0,0,0,0,535,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
{0,0,0,0,0,0,0,0,534,0,0,0,0,0,0,0,534,0,0,0,0,535,0,0,0,0,0,0,0,0},
{0,534,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,534,0,0,0},
{0,0,0,0,0,534,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,534,0,0,0,0,0,0},
{0,0,0,0,0,0,0,0,0,0,0,0,0,0,534,0,0,0,0,0,0,0,0,0,0,0,0,0,535,0},
{0,0,534,0,0,0,0,0,0,534,0,0,0,0,0,0,0,0,534,0,0,0,0,0,0,0,0,0,0,0},
{0,0,0,0,0,0,0,0,0,0,0,0,534,0,0,0,0,0,0,0,0,535,0,0,0,0,534,0,0,0},
{0,0,535,0,0,534,0,535,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
{0,0,0,0,0,0,0,0,0,0,0,0,0,535,0,0,0,0,0,0,0,0,534,0,0,0,0,0,0,0},
{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,534,0,0,0,0,0,0,0,0,535,0,0,0,0,0},
{0,0,534,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,535,0,0,0,0,0,0,0,0,0,0,0},
{0,535,0,0,0,0,0,0,0,535,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
{0,0,0,0,0,0,0,0,0,0,534,0,0,0,0,534,0,0,0,534,0,0,0,0,0,0,0,534,0,0},
{0,0,0,534,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
{0,0,0,0,535,0,0,534,0,0,0,0,0,0,534,0,0,0,0,0,0,0,0,534,0,0,0,0,0,0},
{0,0,0,0,0,0,0,0,0,0,535,0,0,0,0,0,535,0,0,0,535,0,0,0,0,534,0,0,0,0},
{0,0,0,534,0,0,0,0,0,0,0,0,0,0,534,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
{0,0,0,0,0,0,0,535,0,0,534,0,0,0,0,0,0,0,0,0,534,0,0,0,0,0,534,0,0,0},
{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
  },
  {
{119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,},
{119,0,0,522,1089,0,522,0,0,522,1096,0,0,0,1096,0,522,0,522,0,0,522,0,1096,522,0,0,1096,0,119},
{119,22,0,0,0,0,0,0,0,0,1096,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,522,1096,0,119},
{119,0,0,0,1089,0,0,0,0,0,0,0,0,0,1096,0,0,0,0,0,0,0,0,1096,0,0,0,1096,522,119},
{119,1089,1089,1089,1089,0,0,522,0,0,1096,1096,1096,1096,1096,0,0,0,0,522,0,0,0,1096,0,0,0,1096,0,119},
{119,522,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1096,1096,0,0,0,0,0,1096,1096,1096,0,1096,0,119},
{119,0,0,0,522,0,0,0,0,0,0,522,0,0,0,0,0,0,1096,1096,1096,0,0,0,0,0,0,0,0,119},
{119,1096,1096,0,1096,1096,1096,0,0,0,0,0,0,0,0,0,1096,0,0,0,522,1096,0,0,0,0,0,0,522,119},
{119,522,0,0,522,0,1096,0,0,522,0,0,0,0,0,0,1096,0,0,0,0,0,0,0,0,0,0,0,0,119},
{119,0,0,0,0,0,1096,0,0,0,0,0,0,0,522,0,1096,1096,522,0,0,1096,0,0,0,522,0,0,0,119},
{119,1096,1096,1096,1096,0,1096,0,0,1096,1096,0,1096,0,0,0,0,0,1096,1096,0,1096,0,0,0,0,0,0,522,119},
{119,0,0,0,0,0,0,0,0,1096,0,0,1096,0,0,0,0,0,0,0,1096,1096,0,0,0,0,0,0,0,119},
{119,0,0,522,0,0,0,0,0,1096,0,0,1096,1096,1096,0,522,0,0,0,0,0,0,522,0,0,0,0,522,119},
{119,1096,1096,1096,1096,0,0,522,0,1096,0,0,0,0,1096,0,0,0,0,0,0,0,0,0,0,0,0,0,0,119},
{119,0,522,0,1096,0,0,0,0,1096,1096,1096,1096,0,1096,0,0,1096,1096,1096,0,1096,0,0,0,522,0,0,0,119},
{119,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1096,0,0,522,1089,1089,1089,1089,119},
{119,1096,1096,1096,1096,0,1096,1096,1096,1096,0,1096,522,0,0,0,0,1096,0,0,0,1096,0,0,0,1089,0,0,0,119},
{119,522,0,0,0,0,0,0,0,0,0,1096,0,0,0,0,0,1096,1096,1096,1096,1096,0,0,0,0,0,0,21,119},
{119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119,119
},
{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
  },
    };


};

#endif
